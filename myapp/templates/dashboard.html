{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>Waste Segregation Dashboard</h1>

<div>
    <canvas id="wasteChart"></canvas>
</div>

<div>
    <h2>Waste Data Table</h2>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Dry Waste</th>
                <th>Wet Waste</th>
                <th>Weight</th>
            </tr>
        </thead>
        <tbody>
            {% for data in waste_data %}
            <tr>
                <td>{{ data.date }}</td>
                <td>{{ data.dry_waste }}</td>
                <td>{{ data.wet_waste }}</td>
                <td>{{ data.weight }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
    var ctx = document.getElementById('wasteChart').getContext('2d');
    var wasteChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Dry Waste', 'Wet Waste'],
            datasets: [{
                label: 'Waste Data',
                data: [{{ total_dry }}, {{ total_wet }}],
                backgroundColor: ['#ff6384', '#36a2eb'],
            }]
        },
        options: {}
    });
</script>
{% endblock %}
